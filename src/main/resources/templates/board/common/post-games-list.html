<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${board.boardName} + ' - ê²Œì„ ëª©ë¡'">ê²Œì„ ê²Œì‹œíŒ - ê²Œì„ ëª©ë¡</title>
    <link rel="stylesheet" th:href="@{/board-skin/common-skin/post-skin/css/post-list.css}">

    <!-- ê²Œì„ ê²Œì‹œíŒ ì „ìš© ìŠ¤íƒ€ì¼ ì¶”ê°€ -->
    <style>
        /* ê²Œì„ ê²Œì‹œíŒ ì „ìš© ìŠ¤íƒ€ì¼ í™•ì¥ */
        .game-status-active {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .game-status-pending {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .game-icon {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            margin-right: 8px;
        }

        .game-title-cell {
            display: flex;
            align-items: center;
        }

        .team-name {
            color: #8b5cf6;
            font-weight: 600;
        }

        /* ê¸°ì¡´ post-list.css ìŠ¤íƒ€ì¼ì„ ìƒì†í•˜ë©´ì„œ ê²Œì„ ì „ìš© ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        .post-table th:nth-child(1) { width: 8%; }  /* ë²ˆí˜¸ */
        .post-table th:nth-child(2) { width: 35%; } /* ê²Œì„ëª… */
        .post-table th:nth-child(3) { width: 20%; } /* íŒ€ëª… */
        .post-table th:nth-child(4) { width: 20%; } /* ìŠ¹ì¸ì¼ */
        .post-table th:nth-child(5) { width: 17%; } /* ìƒíƒœ */
    </style>
</head>

<body class="post-list-body">
<main class="post-list-container">
    <!-- ê²Œì‹œíŒ ì´ë¦„ -->
    <h1 class="post-list-title" th:text="${board.boardName}">
        ê²Œì„ ê²Œì‹œíŒ
    </h1>

    <!-- ê²Œì„ ëª©ë¡ í…Œì´ë¸” -->
    <div class="post-table-wrapper">
        <table class="post-table">
            <thead>
            <tr>
                <th>ë²ˆí˜¸</th>
                <th>ê²Œì„ëª…</th>
                <th>ê°œë°œíŒ€</th>
                <th>ìŠ¹ì¸ì¼</th>
                <th>ìƒíƒœ</th>
            </tr>
            </thead>
            <tbody>
            <!-- ê²Œì„ì´ ì—†ì„ ë•Œ -->
            <tr th:if="${#lists.isEmpty(summaryGames)}" class="empty-row">
                <td colspan="5" class="empty-message">
                    <div style="text-align: center; padding: 40px;">
                        <div class="game-icon" style="margin: 0 auto 16px auto; width: 48px; height: 48px; font-size: 20px;">
                            ğŸ®
                        </div>
                        <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">ì•„ì§ ê²Œì„ì´ ì—†ì–´ìš”</div>
                        <div style="color: #6b7280; font-size: 14px;">ì²« ë²ˆì§¸ ê²Œì„ì„ ì—…ë¡œë“œí•´ë³´ì„¸ìš”!</div>
                    </div>
                </td>
            </tr>

            <!-- ê²Œì„ì´ ìˆì„ ë•Œ -->
            <tr th:each="game, stat : ${summaryGames}" class="post-row">
                <!-- ìˆœë²ˆ (1-based) -->
                <td class="post-number" th:text="${stat.count}">1</td>

                <!-- ê²Œì„ëª… + ì•„ì´ì½˜ + ë§í¬ -->
                <td class="post-title-cell">
                    <div class="game-title-cell">
                        <span class="game-icon">ğŸ®</span>
                        <a class="post-title-link"
                           th:text="${game.gameName}"
                           th:href="@{/board/{boardId}/game/{gameId}/view (boardId=${game.boardId}, gameId=${game.gameId})}">
                            ê²Œì„ ì´ë¦„
                        </a>
                    </div>
                </td>

                <!-- ê°œë°œíŒ€ -->
                <td class="post-author">
                    <span class="team-name" th:text="${game.teamName}">ê°œë°œíŒ€</span>
                </td>

                <!-- ìŠ¹ì¸ì¼ -->
                <td class="post-date">
                    <span th:if="${game.approvedAt != null}"
                          th:text="${#temporals.format(game.approvedAt, 'yyyy-MM-dd')}">
                        2025-01-01
                    </span>
                    <span th:if="${game.approvedAt == null}"
                          style="color: #f59e0b; font-weight: 600;">
                        ìŠ¹ì¸ ëŒ€ê¸°
                    </span>
                </td>

                <!-- ìƒíƒœ -->
                <td class="post-views">
                    <span class="game-status-active">í”Œë ˆì´ ê°€ëŠ¥</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- ê²Œì„ ì—…ë¡œë“œ ë²„íŠ¼ (ê¸€ì“°ê¸° ë²„íŠ¼ê³¼ ë™ì¼í•œ êµ¬ì¡°) -->
    <div class="write-button-container">
        <form action="/games/upload" method="get">
            <input type="hidden" name="boardId" th:value="${board.boardId}" />
            <button type="submit" class="write-button" style="background: linear-gradient(135deg, #8b5cf6, #ec4899);">
                ğŸ® ê²Œì„ ì—…ë¡œë“œ
            </button>
        </form>
    </div>

    <!-- í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ ì¶”ê°€ -->
    <div class="write-button-container" style="margin-top: 12px;">
        <a href="/board" class="write-button" style="background: #6b7280; text-decoration: none; display: inline-block; text-align: center;">
            ğŸ  ê²Œì‹œíŒ í™ˆìœ¼ë¡œ
        </a>
    </div>
</main>

<script th:src="@{/board-skin/common-skin/post-skin/js/post-list.js}"></script>

<script>
    // ê²Œì„ íŠ¹í™” ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€
    document.addEventListener('DOMContentLoaded', function() {
        // ê²Œì„ í–‰ì— í˜¸ë²„ íš¨ê³¼ (ì„ íƒì‚¬í•­)
        const gameRows = document.querySelectorAll('.post-row');
        gameRows.forEach(row => {
            row.addEventListener('mouseenter', function() {
                this.style.backgroundColor = '#f8fafc';
            });

            row.addEventListener('mouseleave', function() {
                this.style.backgroundColor = '';
            });
        });
    });
</script>
</body>
</html>