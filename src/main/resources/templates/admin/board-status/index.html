<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시판 상태 관리</title>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <link rel="stylesheet" th:href="@{/admin-skin/css/board-status-index.css}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
<div class="container">
    <h2>게시판 상태 관리</h2>

    <!-- 상단 버튼들 -->
    <div class="action-buttons">
        <button type="button" class="btn btn-create">
            + 게시판 만들기
        </button>
        <button type="button" class="btn btn-edit">
            정보 수정
        </button>
    </div>

    <!-- 게시판 정보 -->
    <div class="board-content">
        <div th:if="${vm.boardList != null and !vm.boardList.isEmpty()}">
            <table class="board-table">
                <thead>
                <tr>
                    <th>게시판 ID</th>
                    <th>게시판 이름</th>
                    <th>활성화 상태</th>
                    <th>관리 작업</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="board : ${vm.boardList}">
                    <td th:text="${board.boardId}">board-001</td>
                    <td th:text="${board.boardName}">자유 게시판</td>
                    <td>
                        <span th:if="${board.boardAct == 1}" class="status-badge status-active">활성화</span>
                        <span th:if="${board.boardAct == 0}" class="status-badge status-inactive">비활성화</span>
                    </td>
                    <td>
                        <!-- 활성화 버튼 -->
                        <form th:if="${board.boardAct == 0}" th:action="@{'/admin/api/v1/board/' + ${board.boardId} + '/activate'}" method="post" style="display: inline;">
                            <input type="hidden" name="boardId" th:value="${board.boardId}">
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                            <button type="submit" class="btn btn-activate">활성화</button>
                        </form>

                        <!-- 비활성화 버튼 -->
                        <form th:if="${board.boardAct == 1}" th:action="@{'/admin/api/v1/board/' + ${board.boardId} + '/deactivate'}" method="post" style="display: inline;">
                            <input type="hidden" name="boardId" th:value="${board.boardId}">
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                            <button type="submit" class="btn btn-deactivate">비활성화</button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div th:if="${vm.boardList == null or vm.boardList.isEmpty()}" class="no-boards">
            <p>등록된 게시판이 없습니다.</p>
        </div>
    </div>
</div>
<script th:src="@{/admin-skin/js/board-status-index.js}" defer></script>
<script th:src="@{/admin-skin/js/board-status-index-page-animation.js}" defer></script>
</body>
</html>